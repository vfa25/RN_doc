# 语法

## 配置语法

- 配置文件由`指令块`和`指令`构成。
- 每条指令以`;`分号结尾，指令和参数间以空格符号分隔。
- 指令块以`{}`大括号将多条指令组织在一起。
- include语句允许组合多个配置文件以提高可维护性
- 使用`#`符号增加注释，提高可维护性。
- 使用`$`符号使用变量。
- 部分指令的参数支持正则表达式。

## http配置的指令块

![http配置指令块](../../../.imgs/http-direct-block.png)

- http：均由`http模块`去解析执行。
- upstream：上游服务，当需要与其他Web服务交互时。
- server：对应一个或一组域名。
- location：URL表达式。

## 常用命令行

- 格式：nginx -s reload
- 帮助：-h
- 使用指定的配置文件：-c（默认寻找执行configture时配置的--prefix-path）
- 指定配置指令：-g
- 指定运行目录：-p
- 发送信息：-s
  - 立刻停止服务：stop
  - 优雅的停止服务：quit
  - 重载配置文件：reload
  - 重新开始记录日志文件：reopen
- 打印版本信息、编译信息：-v、-V
